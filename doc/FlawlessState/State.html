<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta id="repository-name" content="github.com/jasonl99/flawless_state">
  <link href="../css/style.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="../js/doc.js"></script>
  <title>FlawlessState::State - github.com/jasonl99/flawless_state</title>
</head>
<body>

<div id="types-list">
  <div id="search-box">
    <input type="search" id="search-input" placeholder="Search...">
  </div>

  <ul>
    <li><a href="../index.html">README</a></li>
  </ul>

  <ul>
  
  <li class="parent open current" data-id="github.com/jasonl99/flawless_state/FlawlessState" data-name="flawlessstate">
      <a href="../FlawlessState.html">FlawlessState</a>
      
        <ul>
  
  <li class=" " data-id="github.com/jasonl99/flawless_state/FlawlessState/Exception" data-name="flawlessstate::exception">
      <a href="../FlawlessState/Exception.html">Exception</a>
      
    </li>
  
  <li class=" current" data-id="github.com/jasonl99/flawless_state/FlawlessState/State" data-name="flawlessstate::state">
      <a href="../FlawlessState/State.html">State</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

</div>

<div id="main-content">
<h1 class="type-name">

  <span class="kind">struct</span> FlawlessState::State

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="../FlawlessState/State.html">FlawlessState::State</a></li><li class="superclass">Struct</li><li class="superclass">Value</li><li class="superclass">Object</li></ul>

















  <h2>Defined in:</h2>
  
    
      <a href="https://github.com/jasonl99/flawless_state/blob/cd390004c0885a9fcd31e7fe30336100b01ed7b0/src/flawless_state.cr#L12" target="_blank">flawless_state.cr</a>
    
    <br/>
  





  <h2>Class Method Summary</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#new%28transitions%3Dself.defined_states%29-class-method" class="signature"><strong>.new</strong>(transitions = <span class="k">self</span>.defined_states)</a>
        
          <div class="summary"><p>transitions are a <code>Hash(Symbol,Array(Symbol)</code> which reprsent what a state is allowed to transitio to</p></div>
        
      </li>
    
  </ul>



  <h2>Instance Method Summary</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#build_transitions%28definitions%3AHash%28Symbol%2CArray%28Symbol%29%29%29-instance-method" class="signature"><strong>#build_transitions</strong>(definitions : Hash(Symbol, Array(Symbol)))</a>
        
          <div class="summary"><p>Create the @state_pairs array of tuples.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#current_state%3ASymbol-instance-method" class="signature"><strong>#current_state</strong> : Symbol</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#defined_states-instance-method" class="signature"><strong>#defined_states</strong></a>
        
          <div class="summary"><p>each key results in an array that can be transitioned into.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#is%3F%28state%3ASymbol%29-instance-method" class="signature"><strong>#is?</strong>(state : Symbol)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#is_not%3F%28state%3ASymbol%29-instance-method" class="signature"><strong>#is_not?</strong>(state : Symbol)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#state_pairs%3AArray%28%7BSymbol%2CSymbol%7D%29-instance-method" class="signature"><strong>#state_pairs</strong> : Array({Symbol, Symbol})</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#state_pairs%3D%28state_pairs%29-instance-method" class="signature"><strong>#state_pairs=</strong>(state_pairs)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#terminal%3F%28state%3ASymbol%3D%40current_state%29-instance-method" class="signature"><strong>#terminal?</strong>(state : Symbol = @current_state)</a>
        
          <div class="summary"><p>A state is termimal if it is has no valid states to transition to (empty arrays in <code><a href="../FlawlessState/State.html#defined_states-instance-method">#defined_states</a></code>) States can be forced to other states with <code><a href="../FlawlessState/State.html#transition_to%21%28new_state%3ASymbol%29-instance-method">#transition_to!</a></code></p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#transition_to%28new_state%3ASymbol%29-instance-method" class="signature"><strong>#transition_to</strong>(new_state : Symbol)</a>
        
          <div class="summary"><p>if a transition is permitted, make it, otherwise raise an exception</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#transition_to%21%28new_state%3ASymbol%29-instance-method" class="signature"><strong>#transition_to!</strong>(new_state : Symbol)</a>
        
          <div class="summary"><p>force a transition without checking the validity of the new state</p></div>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
    


    


  
    


    


  
    


    


  
</div>


  <h2>Class Method Detail</h2>
  
    <div class="entry-detail" id="new&#40;transitions&#61;self.defined_states&#41;-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(transitions = <span class="k">self</span>.defined_states)

        <a class="method-permalink" href="#new%28transitions%3Dself.defined_states%29-class-method">#</a>
      </div>
      
        <div class="doc"><p>transitions are a <code>Hash(Symbol,Array(Symbol)</code> which reprsent
what a state is allowed to transitio to</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jasonl99/flawless_state/blob/cd390004c0885a9fcd31e7fe30336100b01ed7b0/src/flawless_state.cr#L18" target="_blank">View source</a>]
        
      </div>
    </div>
  



  <h2>Instance Method Detail</h2>
  
    <div class="entry-detail" id="build_transitions&#40;definitions:Hash&#40;Symbol,Array&#40;Symbol&#41;&#41;&#41;-instance-method">
      <div class="signature">
        
        def <strong>build_transitions</strong>(definitions : Hash(Symbol, Array(Symbol)))

        <a class="method-permalink" href="#build_transitions%28definitions%3AHash%28Symbol%2CArray%28Symbol%29%29%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Create the @state_pairs array of tuples.  Each tuple is a from_state to a to_state. <code><a href="../FlawlessState/State.html#defined_states-instance-method">#defined_states</a></code>
would produce the following pairs.  Each each is an allowed to-> from set of states.</p>

<pre><code>[{<span class="n">:new</span>, <span class="n">:initialized</span>},
 {<span class="n">:new</span>, <span class="n">:ready</span>},
 {<span class="n">:new</span>, <span class="n">:complete</span>},
 {<span class="n">:initialized</span>, <span class="n">:ready</span>},
 {<span class="n">:initialized</span>, <span class="n">:complete</span>},
 {<span class="n">:ready</span>, <span class="n">:complete</span>}]</code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jasonl99/flawless_state/blob/cd390004c0885a9fcd31e7fe30336100b01ed7b0/src/flawless_state.cr#L75" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="current_state:Symbol-instance-method">
      <div class="signature">
        
        def <strong>current_state</strong> : Symbol

        <a class="method-permalink" href="#current_state%3ASymbol-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jasonl99/flawless_state/blob/cd390004c0885a9fcd31e7fe30336100b01ed7b0/src/flawless_state.cr#L13" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="defined_states-instance-method">
      <div class="signature">
        
        def <strong>defined_states</strong>

        <a class="method-permalink" href="#defined_states-instance-method">#</a>
      </div>
      
        <div class="doc"><p>each key results in an array that can be transitioned into.
see <code><a href="../FlawlessState/State.html#build_transitions%28definitions%3AHash%28Symbol%2CArray%28Symbol%29%29%29-instance-method">#build_transitions</a></code></p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jasonl99/flawless_state/blob/cd390004c0885a9fcd31e7fe30336100b01ed7b0/src/flawless_state.cr#L25" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="is?&#40;state:Symbol&#41;-instance-method">
      <div class="signature">
        
        def <strong>is?</strong>(state : Symbol)

        <a class="method-permalink" href="#is%3F%28state%3ASymbol%29-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jasonl99/flawless_state/blob/cd390004c0885a9fcd31e7fe30336100b01ed7b0/src/flawless_state.cr#L42" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="is_not?&#40;state:Symbol&#41;-instance-method">
      <div class="signature">
        
        def <strong>is_not?</strong>(state : Symbol)

        <a class="method-permalink" href="#is_not%3F%28state%3ASymbol%29-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jasonl99/flawless_state/blob/cd390004c0885a9fcd31e7fe30336100b01ed7b0/src/flawless_state.cr#L46" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="state_pairs:Array&#40;&#123;Symbol,Symbol&#125;&#41;-instance-method">
      <div class="signature">
        
        def <strong>state_pairs</strong> : Array({Symbol, Symbol})

        <a class="method-permalink" href="#state_pairs%3AArray%28%7BSymbol%2CSymbol%7D%29-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jasonl99/flawless_state/blob/cd390004c0885a9fcd31e7fe30336100b01ed7b0/src/flawless_state.cr#L14" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="state_pairs&#61;&#40;state_pairs&#41;-instance-method">
      <div class="signature">
        
        def <strong>state_pairs=</strong>(state_pairs)

        <a class="method-permalink" href="#state_pairs%3D%28state_pairs%29-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jasonl99/flawless_state/blob/cd390004c0885a9fcd31e7fe30336100b01ed7b0/src/flawless_state.cr#L14" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="terminal?&#40;state:Symbol&#61;&#64;current_state&#41;-instance-method">
      <div class="signature">
        
        def <strong>terminal?</strong>(state : Symbol = @current_state)

        <a class="method-permalink" href="#terminal%3F%28state%3ASymbol%3D%40current_state%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>A state is termimal if it is has no valid states to transition to (empty arrays in <code><a href="../FlawlessState/State.html#defined_states-instance-method">#defined_states</a></code>)
States can be forced to other states with <code><a href="../FlawlessState/State.html#transition_to%21%28new_state%3ASymbol%29-instance-method">#transition_to!</a></code></p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jasonl99/flawless_state/blob/cd390004c0885a9fcd31e7fe30336100b01ed7b0/src/flawless_state.cr#L38" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="transition_to&#40;new_state:Symbol&#41;-instance-method">
      <div class="signature">
        
        def <strong>transition_to</strong>(new_state : Symbol)

        <a class="method-permalink" href="#transition_to%28new_state%3ASymbol%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>if a transition is permitted, make it, otherwise raise an exception</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jasonl99/flawless_state/blob/cd390004c0885a9fcd31e7fe30336100b01ed7b0/src/flawless_state.cr#L52" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="transition_to&#33;&#40;new_state:Symbol&#41;-instance-method">
      <div class="signature">
        
        def <strong>transition_to!</strong>(new_state : Symbol)

        <a class="method-permalink" href="#transition_to%21%28new_state%3ASymbol%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>force a transition without checking the validity of the new state</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jasonl99/flawless_state/blob/cd390004c0885a9fcd31e7fe30336100b01ed7b0/src/flawless_state.cr#L61" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>

</body>
</html>
